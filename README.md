# BIPH FLORA è¯†è‰æœ¨ ğŸŒ¿

![Node.js](https://img.shields.io/badge/Node.js-v18+-green)
![React](https://img.shields.io/badge/React-v18.3.1-blue)
![Express](https://img.shields.io/badge/Express-v4.21.1-yellow)
![MongoDB](https://img.shields.io/badge/MongoDB-v8.8.2-brightgreen)
![Redis](https://img.shields.io/badge/Redis-v4.7.0-red)
![License](https://img.shields.io/badge/License-Private%20Use%20Only-red)

ä¸€ä¸ªç°ä»£åŒ–çš„å…¨æ ˆæ¤ç‰©å›¾é‰´Webåº”ç”¨ï¼Œè‡´åŠ›äºä¸ºç”¨æˆ·æä¾›æ¤ç‰©è¯†åˆ«ã€åˆ†äº«å’Œå­¦ä¹ çš„ç»¼åˆå¹³å°ã€‚

**âš ï¸ é‡è¦æç¤ºï¼šæœ¬é¡¹ç›®ä»…å…è®¸ä¸ªäººå’Œç§äººä½¿ç”¨ï¼Œç¦æ­¢å•†ä¸šç”¨é€”ã€‚å¦‚éœ€å•†ä¸šä½¿ç”¨ï¼Œè¯·è”ç³»é¡¹ç›®ç»´æŠ¤è€…è·å–å•†ä¸šè®¸å¯è¯ã€‚**

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å®‰è£…éƒ¨ç½²](#å®‰è£…éƒ¨ç½²)
- [APIæ–‡æ¡£](#apiæ–‡æ¡£)
- [æŠ€æœ¯å®ç°](#æŠ€æœ¯å®ç°)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [å®‰å…¨ç‰¹æ€§](#å®‰å…¨ç‰¹æ€§)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)

## ğŸš€ é¡¹ç›®æ¦‚è¿°

BIPH FLORAæ˜¯ä¸€ä¸ªåŸºäºReactå’ŒNode.jsæ„å»ºçš„ç°ä»£åŒ–æ¤ç‰©å›¾é‰´å¹³å°ï¼Œæä¾›æ¤ç‰©æœç´¢ã€å›¾ç‰‡ä¸Šä¼ ã€ç¤¾åŒºåˆ†äº«ç­‰åŠŸèƒ½ã€‚è¯¥é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ”¯æŒç”¨æˆ·æ³¨å†Œç™»å½•ã€æ¤ç‰©æ•°æ®ç®¡ç†ã€å›¾ç‰‡å‹ç¼©å¤„ç†ç­‰é«˜çº§åŠŸèƒ½ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **æ™ºèƒ½æœç´¢**: åŸºäºFuse.jsçš„æ¨¡ç³Šæœç´¢ç®—æ³•ï¼Œæ”¯æŒæ‹‰ä¸åã€ä¸­æ–‡åã€è‹±æ–‡åå¤šè¯­è¨€æœç´¢
- **å›¾ç‰‡ç®¡ç†**: é›†æˆSharpå›¾ç‰‡å¤„ç†ï¼Œæ”¯æŒè‡ªåŠ¨å‹ç¼©å’Œæ ¼å¼ä¼˜åŒ–
- **ç”¨æˆ·ç³»ç»Ÿ**: JWTè®¤è¯ + Redisç¼“å­˜çš„å®‰å…¨ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
- **å†…å®¹ç®¡ç†**: å®Œæ•´çš„CRUDæ“ä½œï¼Œæ”¯æŒç®¡ç†å‘˜å®¡æ ¸æœºåˆ¶
- **å“åº”å¼è®¾è®¡**: åŸºäºPrimeReact + Tailwind CSSçš„ç°ä»£åŒ–UI

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18.3.1 + React Router DOM v6
- **UIåº“**: PrimeReact 10.8.4 + PrimeFlex
- **æ ·å¼**: Tailwind CSS + CSS Modules
- **çŠ¶æ€ç®¡ç†**: React Context API
- **HTTPå®¢æˆ·ç«¯**: Axios
- **å›¾ç‰‡å¤„ç†**: browser-image-compression

### åç«¯æŠ€æœ¯æ ˆ

- **è¿è¡Œç¯å¢ƒ**: Node.js
- **Webæ¡†æ¶**: Express 4.21.1
- **æ•°æ®åº“**: MongoDB (Mongoose ODM)
- **ç¼“å­˜**: Redis
- **è®¤è¯**: JWT + bcrypt
- **æ–‡ä»¶ä¸Šä¼ **: Multer
- **å›¾ç‰‡å¤„ç†**: Sharp
- **å‹ç¼©**: gzip compression

### æ•°æ®åº“è®¾è®¡

```
MongoDB Collections:
â”œâ”€â”€ users (ç”¨æˆ·ä¿¡æ¯)
â”œâ”€â”€ posts (æ¤ç‰©æ–‡ç« )
â”œâ”€â”€ pics (æ¤ç‰©å›¾ç‰‡)
â”œâ”€â”€ arts (è‰ºæœ¯ä½œå“)
â”œâ”€â”€ activities (æ´»åŠ¨ä¿¡æ¯)
â”œâ”€â”€ editTextRequests (ç¼–è¾‘è¯·æ±‚)
â”œâ”€â”€ featureHomes (é¦–é¡µç‰¹è‰²å†…å®¹)
â””â”€â”€ codes (åŠ¨æ¤ç‰©ç¼–ç )
```

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” æœç´¢åŠŸèƒ½
- æ”¯æŒæ¤ç‰©æ‹‰ä¸åã€ä¸­æ–‡åã€è‹±æ–‡åæ¨¡ç³Šæœç´¢
- å®æ—¶æœç´¢å»ºè®®
- URLå‚æ•°åŒ–æœç´¢ç»“æœ

### ğŸ‘¤ ç”¨æˆ·ç®¡ç†
- å®‰å…¨çš„ç”¨æˆ·æ³¨å†Œ/ç™»å½•ç³»ç»Ÿ
- JWT Tokenè®¤è¯ + Redisç¼“å­˜
- ç®¡ç†å‘˜æƒé™æ§åˆ¶
- å¯†ç åŠ å¯†å­˜å‚¨

### ğŸ“¸ å›¾ç‰‡å¤„ç†
- è‡ªåŠ¨å›¾ç‰‡å‹ç¼©å’Œæ ¼å¼ä¼˜åŒ–
- æ”¯æŒå¤šç§å›¾ç‰‡æ ¼å¼ä¸Šä¼ 
- å›¾ç‰‡ç¼“å­˜å’ŒCDNåŠ é€Ÿ
- å“åº”å¼å›¾ç‰‡æ˜¾ç¤º

### ğŸ“ å†…å®¹ç®¡ç†
- æ¤ç‰©ä¿¡æ¯çš„å¢åˆ æ”¹æŸ¥
- å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ”¯æŒ
- ç®¡ç†å‘˜å®¡æ ¸æœºåˆ¶
- ç‰ˆæœ¬æ§åˆ¶å’Œå†å²è®°å½•

### ğŸ  ä¸»é¡µå±•ç¤º
- è½®æ’­å›¾å±•ç¤ºç‰¹è‰²æ¤ç‰©
- åŠ¨æ€åŠ è½½å†…å®¹
- æœç´¢å¿«æ·å…¥å£
- å“åº”å¼å¸ƒå±€

## ğŸ“ é¡¹ç›®ç»“æ„

```
biphflora/
â”œâ”€â”€ client/                 # Reactå‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ components/     # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ styles/        # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ tools/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ src/           # èµ„æºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ App.js         # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ UserContext.js # ç”¨æˆ·çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ index.js       # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tailwind.config.js
â”œâ”€â”€ models/                 # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ user.js           # ç”¨æˆ·æ¨¡å‹
â”‚   â”œâ”€â”€ post.js           # æ–‡ç« æ¨¡å‹
â”‚   â”œâ”€â”€ pic.js            # å›¾ç‰‡æ¨¡å‹
â”‚   â”œâ”€â”€ uploadfile.js     # æ–‡ä»¶ä¸Šä¼ 
â”‚   â””â”€â”€ compression.js    # å›¾ç‰‡å‹ç¼©
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”‚   â”œâ”€â”€ plantspic/        # æ¤ç‰©å›¾ç‰‡
â”‚   â””â”€â”€ uploads/          # ä¸Šä¼ æ–‡ä»¶
â”œâ”€â”€ app.js                 # ExpressæœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ› ï¸ å®‰è£…éƒ¨ç½²

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- MongoDB >= 5.0
- Redis >= 6.0
- npm æˆ– pnpm

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…åç«¯ä¾èµ–
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd client
npm install
```

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# æœåŠ¡å™¨é…ç½®
PORT=3001

# æ•°æ®åº“é…ç½®
MONGODB_URL=mongodb://localhost:27017/biphflora

# Redisé…ç½®
REDIS_URL=redis://localhost:6379

# JWTå¯†é’¥
SECRET=your-jwt-secret-key

# å…¶ä»–é…ç½®
REACT_APP_Source_URL=http://localhost:3001
```

### å¼€å‘ç¯å¢ƒå¯åŠ¨

```bash
# å¯åŠ¨åç«¯æœåŠ¡ (ç«¯å£3001)
npm start

# å¯åŠ¨å‰ç«¯æœåŠ¡ (ç«¯å£3000)
cd client
npm start
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# æ„å»ºå‰ç«¯
cd client
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start
```

## ğŸ“– APIæ–‡æ¡£

### è®¤è¯ç›¸å…³

```http
POST /login
Content-Type: application/json

{
  "username": "string",
  "password": "string"
}
```

```http
POST /register
Content-Type: application/json

{
  "username": "string",
  "password": "string",
  "email": "string"
}
```

### æ¤ç‰©æ•°æ®

```http
GET /searchNames
# è·å–æ‰€æœ‰æ¤ç‰©åç§°åˆ—è¡¨

GET /search?query=plantname
# æœç´¢æ¤ç‰©ä¿¡æ¯

POST /upload
Content-Type: multipart/form-data
# ä¸Šä¼ æ¤ç‰©å›¾ç‰‡å’Œä¿¡æ¯
```

### ç”¨æˆ·ä¿¡æ¯

```http
GET /userInfo
Authorization: Bearer <token>
# è·å–ç”¨æˆ·ä¿¡æ¯å’Œç‰¹è‰²å†…å®¹

GET /refresh
Authorization: Bearer <token>
# åˆ·æ–°ç”¨æˆ·token
```

## ğŸ”§ æŠ€æœ¯å®ç°

### è®¤è¯ç³»ç»Ÿ

```javascript
// JWT + Redis åŒé‡éªŒè¯
async function verifyToken(req, res, next) {
  const token = req.headers["authorization"];
  
  // JWTéªŒè¯
  const decoded = jwt.verify(token, process.env.secret);
  
  // Redisç¼“å­˜éªŒè¯
  const redisToken = await redisClient.get(decoded.username);
  
  if (redisToken === token) {
    req.user = decoded;
    next();
  }
}
```

### å›¾ç‰‡å‹ç¼©å¤„ç†

```javascript
// ä½¿ç”¨Sharpè¿›è¡Œå›¾ç‰‡å‹ç¼©
const sharp = require('sharp');

async function compressImage(inputPath, outputPath) {
  await sharp(inputPath)
    .resize(800, 600, { fit: 'inside' })
    .jpeg({ quality: 80 })
    .toFile(outputPath);
}
```

### æ¨¡ç³Šæœç´¢å®ç°

```javascript
// åŸºäºFuse.jsçš„æ™ºèƒ½æœç´¢
const fuse = new Fuse(plants, {
  keys: ['latinName', 'commonName', 'chineseName'],
  threshold: 0.4,
  includeScore: true
});

const searchResults = fuse.search(query);
```

### Reactè·¯ç”±é…ç½®

```javascript
// åŠ¨æ€è·¯ç”±æ”¯æŒæœç´¢å‚æ•°
<Route 
  path="/search/:plantKey" 
  element={<SearchWithParam />} 
/>

function SearchWithParam() {
  const { plantKey } = useParams();
  return <Database search={plantKey.replace("_", " ")} />;
}
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–

- **ä»£ç åˆ†å‰²**: React.lazy() å®ç°ç»„ä»¶æ‡’åŠ è½½
- **å›¾ç‰‡ä¼˜åŒ–**: browser-image-compression å®¢æˆ·ç«¯å‹ç¼©
- **ç¼“å­˜ç­–ç•¥**: React Context çŠ¶æ€ç¼“å­˜
- **æ‰“åŒ…ä¼˜åŒ–**: Create React App ç”Ÿäº§æ„å»º

### åç«¯ä¼˜åŒ–

- **Gzipå‹ç¼©**: å“åº”æ•°æ®å‹ç¼©ä¼ è¾“
- **Redisç¼“å­˜**: ç”¨æˆ·tokenå’Œçƒ­ç‚¹æ•°æ®ç¼“å­˜
- **å›¾ç‰‡å¤„ç†**: Sharpé«˜æ€§èƒ½å›¾ç‰‡å¤„ç†
- **æ•°æ®åº“ä¼˜åŒ–**: MongoDBç´¢å¼•ä¼˜åŒ–

### éƒ¨ç½²ä¼˜åŒ–

```javascript
// å¯ç”¨gzipå‹ç¼©
app.use(compression());

// é™æ€èµ„æºç¼“å­˜
app.use('/public', express.static('public', {
  maxAge: '1d'
}));
```

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### å¯†ç å®‰å…¨
- bcryptåŠ å¯†å­˜å‚¨ç”¨æˆ·å¯†ç 
- JWT Tokenæ—¶æ•ˆæ€§æ§åˆ¶
- Redis Tokené»‘åå•æœºåˆ¶

### æ•°æ®éªŒè¯
- ç”¨æˆ·è¾“å…¥éªŒè¯å’Œè¿‡æ»¤
- æ–‡ä»¶ä¸Šä¼ ç±»å‹æ£€æŸ¥
- CORSè·¨åŸŸè¯·æ±‚æ§åˆ¶

### é”™è¯¯å¤„ç†
```javascript
// å…¨å±€é”™è¯¯å¤„ç†ä¸­é—´ä»¶
app.use(function (err, req, res, next) {
  console.error(err.stack);
  res.status(500).send('Something broke!');
});
```

## ğŸš€ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `client/src/pages/` åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `App.js` ä¸­æ·»åŠ è·¯ç”±é…ç½®
3. æ›´æ–°å¯¼èˆªèœå•

### æ·»åŠ æ–°APIæ¥å£

1. åœ¨ `app.js` ä¸­å®šä¹‰è·¯ç”±å¤„ç†å‡½æ•°
2. åˆ›å»ºå¯¹åº”çš„æ•°æ®æ¨¡å‹ï¼ˆå¦‚éœ€è¦ï¼‰
3. æ·»åŠ è®¤è¯ä¸­é—´ä»¶ï¼ˆå¦‚éœ€è¦ï¼‰

### æ•°æ®åº“æ¨¡å‹æ‰©å±•

```javascript
// åœ¨models/ç›®å½•ä¸‹åˆ›å»ºæ–°æ¨¡å‹
const mongoose = require('mongoose');

const newSchema = new mongoose.Schema({
  field1: String,
  field2: Number,
  createdAt: { type: Date, default: Date.now }
});

module.exports = mongoose.model('NewModel', newSchema);
```

## ğŸ“¦ ä¾èµ–åŒ…ç®¡ç†

### ä¸»è¦å‰ç«¯ä¾èµ–

```bash
npm install react@^18.3.1 react-dom@^18.3.1
npm install react-router-dom@^6.28.0
npm install primereact@^10.8.4
npm install axios@^1.7.7
```

### ä¸»è¦åç«¯ä¾èµ–

```bash
npm install express@^4.21.1
npm install mongoose@^8.8.2
npm install redis@^4.7.0
npm install jsonwebtoken@^9.0.2
npm install bcrypt@^5.1.1
npm install sharp@^0.33.5
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨Prettierè¿›è¡Œä»£ç æ ¼å¼åŒ–
- éµå¾ªESLintè§„åˆ™
- ç»„ä»¶å’Œå‡½æ•°å‘½åä½¿ç”¨é©¼å³°å‘½åæ³•
- æ·»åŠ å¿…è¦çš„ä»£ç æ³¨é‡Š

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨è‡ªå®šä¹‰ç§äººä½¿ç”¨è®¸å¯è¯ï¼Œä»…å…è®¸ä¸ªäººå’Œç§äººä½¿ç”¨ã€‚

### ğŸŸ¢ å…è®¸çš„ä½¿ç”¨
- âœ… ä¸ªäººå­¦ä¹ å’Œç ”ç©¶
- âœ… ç§äººå¼€å‘å’Œæµ‹è¯•
- âœ… éå•†ä¸šæ•™è‚²ç›®çš„
- âœ… ä¸ªäººä½œå“é›†å±•ç¤ºï¼ˆéå•†ä¸šï¼‰

### ğŸ”´ ç¦æ­¢çš„ä½¿ç”¨
- âŒ ä»»ä½•å½¢å¼çš„å•†ä¸šä½¿ç”¨
- âŒ åˆ†å‘æˆ–å†åˆ†å‘è½¯ä»¶
- âŒ ä¿®æ”¹å¹¶é‡æ–°åˆ†å‘
- âŒ ç”¨äºå•†ä¸šäº§å“æˆ–æœåŠ¡
- âŒ é”€å”®ã€è®¸å¯æˆ–å•†ä¸šåŒ–
- âŒ å•†ä¸šç»„ç»‡æˆ–å®ä½“ä½¿ç”¨
- âŒ å…¬å¼€éƒ¨ç½²ç”¨äºå•†ä¸šç›®çš„

### ğŸ’¼ å•†ä¸šè®¸å¯
å¦‚éœ€å•†ä¸šä½¿ç”¨ã€åˆ†å‘æˆ–å…¶ä»–ä¸åœ¨ç§äººä½¿ç”¨æ¡æ¬¾èŒƒå›´å†…çš„ç”¨é€”ï¼Œè¯·è”ç³»ç‰ˆæƒæ‰€æœ‰è€…è·å–å•ç‹¬çš„å•†ä¸šè®¸å¯è¯ã€‚

è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ“ è”ç³»æˆ‘ä»¬

- é¡¹ç›®åœ°å€: [https://github.com/LQ458/biphflora](https://github.com/LQ458/biphflora)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/LQ458/biphflora/issues)

---

**BIPH FLORA** - è®©æ¤ç‰©è¯†åˆ«å˜å¾—ç®€å•æœ‰è¶£ ğŸŒ± 
